@import "tailwindcss";
@config "./tailwind.config.js";

/* CSS Variables for Theme System */
:root {
  /* Light theme - 温暖米色系 */
  --color-background: 250 248 245;        /* #faf8f5 */
  --color-background-alt: 245 240 232;    /* #f5f0e8 */
  --color-surface: 235 229 219;           /* #ebe5db */
  --color-surface-border: 217 208 195;    /* #d9d0c3 */
  --color-text-primary: 45 42 38;         /* #2d2a26 */
  --color-text-muted: 85 79 71;           /* #554f47 - WCAG AA compliant (5.2:1 contrast) */
  --color-primary: 212 160 18;            /* #d4a012 */
  --color-primary-hover: 190 143 16;      /* #be8f10 */

  /* Cosmic background colors (light) */
  --cosmic-bg: #f5f0e8;
  --cosmic-fog: #ebe5db;
  --cosmic-stars-opacity: 0.3;
  --cosmic-sparkle-gold: #c49a0a;
  --cosmic-sparkle-secondary: #a88508;
}

.dark {
  /* Dark theme - 保持现有深色 */
  --color-background: 24 22 17;           /* #181611 */
  --color-background-alt: 39 36 27;       /* #27241b */
  --color-surface: 39 36 27;              /* #27241b */
  --color-surface-border: 57 53 40;       /* #393528 */
  --color-text-primary: 255 255 255;      /* #ffffff */
  --color-text-muted: 186 178 156;        /* #bab29c */
  --color-primary: 244 192 37;            /* #f4c025 */
  --color-primary-hover: 224 175 31;      /* #e0af1f */

  /* Cosmic background colors (dark) */
  --cosmic-bg: #181611;
  --cosmic-fog: #181611;
  --cosmic-stars-opacity: 1;
  --cosmic-sparkle-gold: #f4c025;
  --cosmic-sparkle-secondary: #e0af1f;
}

@layer base {
  body {
    @apply bg-background text-foreground font-body antialiased;
    /* 硬件加速滚动容器 */
    -webkit-overflow-scrolling: touch;
    text-rendering: optimizeSpeed;
    /* iPhone X+ 安全区域支持 */
    padding-bottom: env(safe-area-inset-bottom);
  }
}

@layer utilities {
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }

  .no-scrollbar {
    -ms-overflow-style: none;
    scrollbar-width: none;
  }

  .material-symbols-outlined {
    font-family: "Material Symbols Outlined";
    font-weight: normal;
    font-style: normal;
    font-size: 24px;
    display: inline-block;
    line-height: 1;
    text-transform: none;
    letter-spacing: normal;
    word-wrap: normal;
    white-space: nowrap;
    direction: ltr;
    /* Support for all WebKit browsers. */
    -webkit-font-smoothing: antialiased;
    /* Support for Safari and Chrome. */
    text-rendering: optimizeLegibility;
    /* Support for Firefox. */
    -moz-osx-font-smoothing: grayscale;
    /* Support for IE. */
    font-feature-settings: "liga";
    /* Prevent FOUT: hide text until font loads */
    overflow: hidden;
    width: 1em;
    height: 1em;
  }

  /* Material Symbols fill variants */
  .material-symbols-outlined.fill,
  .material-symbols-outlined.fill-1 {
    font-variation-settings:
      "FILL" 1,
      "wght" 400,
      "GRAD" 0,
      "opsz" 24;
  }

  @keyframes fadeInUp {
    from {
      opacity: 0;
      transform: translateY(20px);
    }

    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .animate-fade-in-up {
    animation: fadeInUp 0.6s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    opacity: 0;
    /* Ensures it starts hidden */
  }

  /* 移除滚动时的层级计算负担 */
  header,
  section,
  canvas {
    will-change: transform;
    contain: content;
  }

  .backdrop-blur-xl {
    will-change: backdrop-filter;
  }

  @keyframes halo-pulse {
    0% { transform: scale(0.5); opacity: 0; }
    50% { opacity: 1; }
    100% { transform: scale(2); opacity: 0; }
  }

  @keyframes breathing-glow {
    0%, 100% { box-shadow: 0 0 20px rgba(244, 192, 37, 0.3); }
    50% { box-shadow: 0 0 40px rgba(244, 192, 37, 0.6), 0 0 60px rgba(244, 192, 37, 0.2); }
  }

  .cta-breathing {
    animation: breathing-glow 2.5s ease-in-out infinite;
  }
}
